{"ast":null,"code":"import _classCallCheck from \"/Users/lloydrhodes/Desktop/nc-news-project/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lloydrhodes/Desktop/nc-news-project/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lloydrhodes/Desktop/nc-news-project/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lloydrhodes/Desktop/nc-news-project/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lloydrhodes/Desktop/nc-news-project/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lloydrhodes/Desktop/nc-news-project/src/components/Comment.js\";\nimport React, { Component } from 'react';\nimport * as api from '../Utils/fetchData';\nimport axios from 'axios';\n\nvar Comment =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Comment, _Component);\n\n  function Comment() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Comment);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Comment)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      voteChange: 0,\n      articleid: _this.props.articleid,\n      commentid: _this.props.commentid\n    };\n\n    _this.handleUpdateVote = function (direction) {\n      console.log(direction);\n\n      _this.setState(function (prevState) {\n        return {\n          voteChange: prevState.voteChange + direction\n        };\n      });\n\n      var _this$state = _this.state,\n          commentid = _this$state.commentid,\n          articleid = _this$state.articleid;\n      var reqStr = \"https://lloyd-news.herokuapp.com/api/articles/\".concat(articleid, \"/comments/\").concat(commentid);\n      var vote = {\n        inc_vote: direction\n      };\n      axios.patch(reqStr, vote).then(function (res) {\n        console.log(res);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleDeleteComment = function () {\n      var deleteComment = _this.props.deleteComment;\n      var _this$state2 = _this.state,\n          commentid = _this$state2.commentid,\n          articleid = _this$state2.articleid;\n      console.log('>>>>', commentid, articleid);\n      api.deleteData(commentid, articleid).then(function (res) {\n        console.log(res, '<<<<<');\n        deleteComment(commentid);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Comment, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var voteChange = this.state.voteChange;\n      var votes = this.props.votes;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, \"Votes: \", voteChange + votes), React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: function onClick() {\n          return _this2.handleUpdateVote(1);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }, \"Vote Up\"), React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: function onClick() {\n          return _this2.handleUpdateVote(-1);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, \"Vote Down\"), React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.handleDeleteComment,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, \"Delete\"));\n    } // const { votechange } = this.state\n    // const { votes } this.props\n    // <p>{votes + votechange}<p/>\n    // //render optimistically\n\n  }]);\n\n  return Comment;\n}(Component);\n\nexport default Comment;","map":{"version":3,"sources":["/Users/lloydrhodes/Desktop/nc-news-project/src/components/Comment.js"],"names":["React","Component","api","axios","Comment","state","voteChange","articleid","props","commentid","handleUpdateVote","direction","console","log","setState","prevState","reqStr","vote","inc_vote","patch","then","res","catch","err","handleDeleteComment","deleteComment","deleteData","votes"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as api from '../Utils/fetchData';\nimport axios from 'axios';\n\nclass Comment extends Component {\n  state = {\n    voteChange: 0,\n    articleid: this.props.articleid,\n    commentid: this.props.commentid\n  };\n  render() {\n    const { voteChange } = this.state;\n    const { votes } = this.props\n    return (\n      <div>\n        <p>Votes: {voteChange+votes}</p>\n        <button type=\"submit\" onClick={() => this.handleUpdateVote(1)}>\n          Vote Up\n        </button>\n        <button type=\"submit\" onClick={() => this.handleUpdateVote(-1)}>\n          Vote Down\n        </button>\n        <button type=\"submit\" onClick={this.handleDeleteComment}>\n          Delete\n        </button>\n      </div>\n    );\n  }\n\n  // const { votechange } = this.state\n  // const { votes } this.props\n  // <p>{votes + votechange}<p/>\n  // //render optimistically\n\n  handleUpdateVote = direction => {\n    console.log(direction);\n\n    this.setState(prevState => ({\n      voteChange: prevState.voteChange + direction\n    }));\n    const { commentid, articleid } = this.state;\n    const reqStr = `https://lloyd-news.herokuapp.com/api/articles/${articleid}/comments/${commentid}`;\n\n    const vote = {\n        inc_vote: direction\n    }\n    axios.patch(reqStr, vote)\n    .then(res => {\n        console.log(res)\n    }).catch(err => console.log(err))\n  };\n\n  handleDeleteComment = () => {\n    const { deleteComment } = this.props;\n    const { commentid, articleid } = this.state;\n    console.log('>>>>', commentid, articleid);\n    api\n      .deleteData(commentid, articleid)\n      .then(res => {\n        console.log(res, '<<<<<');\n        deleteComment(commentid);\n      })\n      .catch(err => console.log(err));\n  };\n}\n\n\nexport default Comment;"]},"metadata":{},"sourceType":"module"}